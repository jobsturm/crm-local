#!/bin/sh

echo "ğŸ” Running pre-commit checks..."

# Type check shared package
echo "ğŸ“¦ Type checking @crm-local/shared..."
npm run build -w @crm-local/shared --silent || exit 1

# Type check backend package  
echo "ğŸ“¦ Type checking @crm-local/backend..."
npm run build -w @crm-local/backend --silent || exit 1

# Type check frontend (includes vue-tsc)
echo "ğŸ“¦ Type checking simpel-crm (frontend)..."
cd packages/frontend && npx vue-tsc --noEmit || exit 1
cd ../..

echo "âœ… All checks passed!"
