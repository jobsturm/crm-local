<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simpel CRM - Download</title>
  <style>
    :root {
      --bg: #0f0f0f;
      --card-bg: #1a1a1a;
      --text: #e0e0e0;
      --text-muted: #808080;
      --accent: #00b894;
      --accent-hover: #00d9a5;
      --border: #2d2d2d;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 60px 20px;
    }

    header {
      text-align: center;
      margin-bottom: 60px;
    }

    h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, var(--accent) 0%, #00cec9 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .tagline {
      font-size: 1.25rem;
      color: var(--text-muted);
      max-width: 600px;
      margin: 0 auto;
    }

    .version-badge {
      display: inline-block;
      background: var(--card-bg);
      border: 1px solid var(--border);
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
      margin-top: 20px;
    }

    .version-badge span {
      color: var(--accent);
      font-weight: 600;
    }

    .downloads {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-bottom: 60px;
    }

    .download-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 32px;
      text-align: center;
      transition: transform 0.2s, border-color 0.2s;
    }

    .download-card:hover {
      transform: translateY(-4px);
      border-color: var(--accent);
    }

    .platform-icon {
      font-size: 3rem;
      margin-bottom: 16px;
    }

    .download-card h3 {
      font-size: 1.5rem;
      margin-bottom: 8px;
    }

    .download-card p {
      color: var(--text-muted);
      margin-bottom: 24px;
      font-size: 0.95rem;
    }

    .download-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--accent);
      color: #000;
      padding: 14px 28px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: background 0.2s;
    }

    .download-btn:hover {
      background: var(--accent-hover);
    }

    .download-btn svg {
      width: 20px;
      height: 20px;
    }

    .alt-download {
      margin-top: 16px;
      font-size: 0.85rem;
    }

    .alt-download a {
      color: var(--text-muted);
      text-decoration: underline;
    }

    .alt-download a:hover {
      color: var(--accent);
    }

    .features {
      text-align: center;
      margin-bottom: 60px;
    }

    .features h2 {
      font-size: 2rem;
      margin-bottom: 40px;
    }

    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 32px;
      text-align: left;
    }

    .feature {
      padding: 24px;
      background: var(--card-bg);
      border-radius: 12px;
      border: 1px solid var(--border);
    }

    .feature h3 {
      font-size: 1.1rem;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .feature p {
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    footer {
      text-align: center;
      padding-top: 40px;
      border-top: 1px solid var(--border);
      color: var(--text-muted);
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    #loading {
      display: none;
      color: var(--text-muted);
      font-style: italic;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="logo.svg" alt="Simpel CRM" style="width: 120px; height: 120px; margin-bottom: 16px;">
      <h1>Simpel CRM</h1>
      <p class="tagline">
        Simple, local CRM for freelancers and small businesses. 
        Your data stays on your computer, always.
      </p>
      <div class="version-badge">
        Latest version: <span id="version">Loading...</span>
      </div>
    </header>

    <section class="downloads">
      <div class="download-card">
        <div class="platform-icon">üçé</div>
        <h3>macOS</h3>
        <p>Universal app for Intel and Apple Silicon Macs</p>
        <a href="#" class="download-btn" id="mac-download">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
          </svg>
          Download for Mac
        </a>
        <p class="alt-download">
          <a href="#" id="mac-zip">Download ZIP instead</a>
        </p>
      </div>

      <div class="download-card">
        <div class="platform-icon">ü™ü</div>
        <h3>Windows</h3>
        <p>64-bit installer for Windows 10 and later</p>
        <a href="#" class="download-btn" id="win-download">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
          </svg>
          Download for Windows
        </a>
        <p class="alt-download">
          <a href="#" id="win-portable">Download portable version</a>
        </p>
      </div>

      <div class="download-card">
        <div class="platform-icon">üêß</div>
        <h3>Linux</h3>
        <p>AppImage runs on any Linux distribution</p>
        <a href="#" class="download-btn" id="linux-download">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
          </svg>
          Download for Linux
        </a>
        <p class="alt-download">
          <a href="#" id="linux-deb">Download .deb package</a>
        </p>
      </div>
    </section>

    <section class="features">
      <h2>Why Simpel CRM?</h2>
      <div class="feature-grid">
        <div class="feature">
          <h3>üíæ Local First</h3>
          <p>All your data stays on your computer. No cloud, no subscriptions, no monthly fees.</p>
        </div>
        <div class="feature">
          <h3>üìÑ Professional Invoices</h3>
          <p>Create beautiful PDF invoices and quotes with your branding in seconds.</p>
        </div>
        <div class="feature">
          <h3>üîí Private & Secure</h3>
          <p>Your customer data never leaves your machine. Complete privacy by design.</p>
        </div>
        <div class="feature">
          <h3>üöÄ Fast & Simple</h3>
          <p>No bloat, no complexity. Just the features you need to manage your business.</p>
        </div>
        <div class="feature">
          <h3>üåç Multi-Language</h3>
          <p>Available in English and Dutch, with more languages coming soon.</p>
        </div>
        <div class="feature">
          <h3>üîÑ Auto Updates</h3>
          <p>Stay up to date automatically. New features delivered seamlessly.</p>
        </div>
      </div>
    </section>

    <footer>
      <p>
        Open source on <a href="https://github.com/jobsturm/crm-local" target="_blank">GitHub</a>
        ‚Ä¢ Made with ‚ù§Ô∏è for freelancers
      </p>
    </footer>
  </div>

  <script>
    // Fetch latest release from GitHub
    const REPO = 'jobsturm/crm-local';
    
    async function fetchLatestRelease() {
      try {
        const response = await fetch(`https://api.github.com/repos/${REPO}/releases/latest`);
        if (!response.ok) throw new Error('No releases found');
        
        const release = await response.json();
        const version = release.tag_name.replace('v', '');
        
        document.getElementById('version').textContent = version;
        
        // Find assets
        const assets = release.assets || [];
        
        const findAsset = (pattern) => {
          return assets.find(a => pattern.test(a.name))?.browser_download_url || '#';
        };
        
        // macOS
        document.getElementById('mac-download').href = findAsset(/\.dmg$/);
        document.getElementById('mac-zip').href = findAsset(/mac.*\.zip$/);
        
        // Windows  
        document.getElementById('win-download').href = findAsset(/Setup.*\.exe$|\.exe$/);
        document.getElementById('win-portable').href = findAsset(/portable.*\.exe$/i);
        
        // Linux
        document.getElementById('linux-download').href = findAsset(/\.AppImage$/);
        document.getElementById('linux-deb').href = findAsset(/\.deb$/);
        
      } catch (error) {
        console.error('Error fetching release:', error);
        document.getElementById('version').textContent = '1.0.0 (Coming Soon)';
        
        // Link to releases page as fallback
        const buttons = document.querySelectorAll('.download-btn, .alt-download a');
        buttons.forEach(btn => {
          btn.href = `https://github.com/${REPO}/releases`;
        });
      }
    }
    
    fetchLatestRelease();
  </script>
</body>
</html>
